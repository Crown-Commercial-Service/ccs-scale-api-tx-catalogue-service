camel:
  springboot:
    name: ScaleAPITxCatalogueService
  
  component:
    servlet:
      mapping:
        # Important: must match any proxy request from API Gateway
        contextPath: /*
        
  dataformat:
    json-jackson:
      object-mapper: jacksonObjectMapper
      disable-features: FAIL_ON_EMPTY_BEANS
          
logging:
  level:
    uk.gov.crowncommercial.dsd.api.catalogue: DEBUG
    org.apache.camel: INFO
    org.springframework: INFO
    org.apache.tomcat: INFO
    org.apache.catalina: INFO
    org.neo4j.ogm: INFO
    
server:
  port: 9030
  tomcat:
    relaxed-query-chars: "[,]"
    accesslog:
      enabled: true

# Route configuration
api:
  paths:
    base: /catalogue
    list-products: /products
    get-product: /products/{id}
    
# Spree (Specify `SPREE_API_HOST` via environment)
spree:
  api:
    paths:
      base: /api/v2/storefront
      list-products: /products
      get-product: /products/{id}
      
---
spring:
  profiles: local
camel:
  component:
    servlet:
      mapping:
        # Mimic API Gateway path prefix (allows switching envs between local and AWS in Postman)
        contextPath: /catalogue-service/*
      